/*!CK:300022485!*//*1456242399,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["lQt7n"]); }

__d('HighConfidenceSuggestion',['Arbiter','Event','HighConfidenceSuggestionLogger','HighConfidenceSuggestionUI','SubscriptionsHandler','SuggestionLoggingUserActions'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){'use strict';this.$HighConfidenceSuggestion1=new (c('HighConfidenceSuggestionUI'))(i);this.$HighConfidenceSuggestion2=i;this.$HighConfidenceSuggestion3=j;this.$HighConfidenceSuggestion4=new (c('SubscriptionsHandler'))();this.$HighConfidenceSuggestion5=k;this.$HighConfidenceSuggestion6=null;this.$HighConfidenceSuggestion7();}h.prototype.$HighConfidenceSuggestion7=function(){'use strict';c('Arbiter').subscribe('showTagger',function(){this.$HighConfidenceSuggestion8();this.$HighConfidenceSuggestion9();}.bind(this));c('Arbiter').subscribe('cameraicon/click',function(){this.$HighConfidenceSuggestion8();this.$HighConfidenceSuggestion9();}.bind(this));c('Arbiter').subscribe('showOGTagger',function(){if(this.$HighConfidenceSuggestion6)c('HighConfidenceSuggestionLogger').log(c('SuggestionLoggingUserActions').CLICK_TAGGER,this.$HighConfidenceSuggestion10,this.$HighConfidenceSuggestion6,this.$HighConfidenceSuggestion5);}.bind(this));this.$HighConfidenceSuggestion4.addSubscriptions(c('Event').listen(this.$HighConfidenceSuggestion1.getCloseButton(),'click',function(){c('HighConfidenceSuggestionLogger').log(c('SuggestionLoggingUserActions').XOUT,this.$HighConfidenceSuggestion10,this.$HighConfidenceSuggestion6,this.$HighConfidenceSuggestion5);this.$HighConfidenceSuggestion1.hide();this.$HighConfidenceSuggestion9();}.bind(this)));this.$HighConfidenceSuggestion4.addSubscriptions(c('Event').listen(this.$HighConfidenceSuggestion1.getAddButton(),'click',function(){this.$HighConfidenceSuggestion11();c('HighConfidenceSuggestionLogger').log(c('SuggestionLoggingUserActions').ADD,this.$HighConfidenceSuggestion10,this.$HighConfidenceSuggestion6,this.$HighConfidenceSuggestion5);}.bind(this)));this.$HighConfidenceSuggestion12=true;};h.prototype.update=function(i){'use strict';var j=i&&i[0];if(j&&!this.$HighConfidenceSuggestion13){this.$HighConfidenceSuggestion6=j;}else if(j&&this.$HighConfidenceSuggestion13&&this.$HighConfidenceSuggestion14(this.$HighConfidenceSuggestion6,j)){return;}else if(j&&this.$HighConfidenceSuggestion13&&!this.$HighConfidenceSuggestion14(this.$HighConfidenceSuggestion6,j)){this.$HighConfidenceSuggestion6=j;}else if(!j)this.$HighConfidenceSuggestion6=null;this.$HighConfidenceSuggestion15();};h.prototype.$HighConfidenceSuggestion15=function(){'use strict';if(this.$HighConfidenceSuggestion6){this.$HighConfidenceSuggestion1.show();c('HighConfidenceSuggestionLogger').log(c('SuggestionLoggingUserActions').IMPRESSION,this.$HighConfidenceSuggestion10,this.$HighConfidenceSuggestion6,this.$HighConfidenceSuggestion5);}else this.$HighConfidenceSuggestion1.hide();};h.prototype.$HighConfidenceSuggestion14=function(i,j){'use strict';return JSON.stringify(i)===JSON.stringify(j);};h.prototype.$HighConfidenceSuggestion8=function(){'use strict';if(this.$HighConfidenceSuggestion6){this.$HighConfidenceSuggestion3.saveSuggestion([this.$HighConfidenceSuggestion6],this.$HighConfidenceSuggestion10);c('Arbiter').inform('highConfSuggestion/saved');}};h.prototype.getDisplayingSuggestion=function(){'use strict';return this.$HighConfidenceSuggestion6;};h.prototype.$HighConfidenceSuggestion9=function(){'use strict';if(this.$HighConfidenceSuggestion6){this.$HighConfidenceSuggestion6=null;this.$HighConfidenceSuggestion12=false;this.$HighConfidenceSuggestion1.hide();}};h.prototype.isActive=function(){'use strict';return this.$HighConfidenceSuggestion12;};h.prototype.isShown=function(){'use strict';return !!this.$HighConfidenceSuggestion6;};h.prototype.$HighConfidenceSuggestion11=function(){'use strict';if(this.$HighConfidenceSuggestion6){var i={};i.type='page';i.uid=this.$HighConfidenceSuggestion6.blob.objectid;i.at_id=this.$HighConfidenceSuggestion6.blob.actiontypeid;i.suggestion_mechanism=this.$HighConfidenceSuggestion6.mechanism;var j={};j.config=this.$HighConfidenceSuggestion10;j.suggestion=this.$HighConfidenceSuggestion6;j.csid=this.$HighConfidenceSuggestion5;i.suggestion_config=j;c('Arbiter').inform('structuredSuggestion/add',i);this.$HighConfidenceSuggestion1.hide();}};h.prototype.setConfigNameForLogging=function(i){'use strict';this.$HighConfidenceSuggestion10=i;};f.exports=h;},null);