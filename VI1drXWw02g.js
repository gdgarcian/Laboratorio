/*!CK:1925381204!*//*1456241051,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Mt3Xe"]); }

__d('ShareDialogStatusTypes',['getObjectValues'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={COMPOSING:'composing',ERROR:'error',POSTING:'posting',SUCCESS:'success'},i=c('getObjectValues')(h);f.exports=babelHelpers['extends']({},h,{ALL:i,isValid:function(j){return i.some(function(k){return k===j;});}});},null);
__d('ShareDialogStaticTitle.react',['cx','fbt','React','LeftRight.react','XUICloseButton.react','XUIDialogTitle.react','emptyFunction'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ShareDialogStaticTitle',propTypes:{onClose:j.func,renderInline:j.bool,title:j.string},getDefaultProps:function(){return {onClose:c('emptyFunction'),renderInline:false};},render:function(){var l=c('React').createElement(c('XUICloseButton.react'),{className:"_51-t",label:i._("Cerrar"),onClick:this.props.onClose});if(this.props.renderInline){return (c('React').createElement(c('LeftRight.react'),null,this.props.title,l));}else return (c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},this.props.title,this.props.children,l));}});f.exports=k;},null);
__d('ShareDialogOsricController',['ActorURI','AsyncRequest','OnlyMeSharerSaveNux.react','Parent','React','ReactDOM','ShareDialog.react','ShareDialogAudienceTypes','ShareDialogDataSources','ShareDialogStatusTypes','ShareNowCounter','ShareNowCounterEvent','SharerType','UFIInstanceState','XShareDialogSubmitController','uniqueID'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i,j,k,l,m,n;function o(){r({type:c('ShareDialogStatusTypes').POSTING});}function p(t){c('ShareNowCounter').logEvent(c('ShareNowCounterEvent').SHARE_POST_SUCCESS);r({type:c('ShareDialogStatusTypes').SUCCESS,message:t.payload.message,showOnlyMeSharerSaveNux:t.payload.showOnlyMeSharerSaveNux,shareType:t.payload.audience});}function q(t){c('ShareNowCounter').logEvent(c('ShareNowCounterEvent').SHARE_POST_ERROR);r({type:c('ShareDialogStatusTypes').ERROR,title:t.errorSummary,message:t.errorDescription});}function r(t){if(t.showOnlyMeSharerSaveNux&&t.shareType&&k&&l&&m){c('ReactDOM').render(c('React').createElement(c('OnlyMeSharerSaveNux.react'),{caretId:k,storyContainerId:l,colectionId:m,objectId:n,shareType:t.shareType}),i);}else c('ReactDOM').render(c('React').createElement(c('ShareDialog.react'),babelHelpers['extends']({},h,{contextConfig:{actorID:h.userId,composerID:j,gks:h.gks,targetID:h.userId},shown:true,onPost:function(u){s.onPost(u,o,p,q);},status:t})),i);}var s={getPropsFromAsyncResponse:function(t){var u=t.sources,v=babelHelpers.objectWithoutProperties(t,['sources']),w=u.person,x=u.personTag,y=u.personWall,z=u.group,aa=u.page,ba=u.mentions,ca=u.place,da=u.action,ea=u.object,fa=new (c('ShareDialogDataSources'))().addSource(c('ShareDialogDataSources').TYPES.ACTION,da).addSource(c('ShareDialogDataSources').TYPES.GROUP,z).addSource(c('ShareDialogDataSources').TYPES.MENTIONS,ba).addSource(c('ShareDialogDataSources').TYPES.MESSAGE,w).addSource(c('ShareDialogDataSources').TYPES.OBJECT,ea).addSource(c('ShareDialogDataSources').TYPES.PAGE,aa).addSource(c('ShareDialogDataSources').TYPES.PERSON,x).addSource(c('ShareDialogDataSources').TYPES.PERSON_WALL,y).addSource(c('ShareDialogDataSources').TYPES.PLACE,ca);return babelHelpers['extends']({dataSources:fa},v);},onPost:function(t,u,v,w){c('ShareNowCounter').logEvent(c('ShareNowCounterEvent').SHARE_POST);if(t.audienceType===c('ShareDialogAudienceTypes').OWN){c('ShareNowCounter').logEvent(c('ShareNowCounterEvent').SHARE_POST_OWN);}else if(t.audienceType===c('ShareDialogAudienceTypes').PERSON){c('ShareNowCounter').logEvent(c('ShareNowCounterEvent').SHARE_POST_PERSON);}else if(t.audienceType===c('ShareDialogAudienceTypes').PAGE){c('ShareNowCounter').logEvent(c('ShareNowCounterEvent').SHARE_POST_PAGE);}else if(t.audienceType===c('ShareDialogAudienceTypes').GROUP){c('ShareNowCounter').logEvent(c('ShareNowCounterEvent').SHARE_POST_GROUP);}else if(t.audienceType===c('ShareDialogAudienceTypes').MESSAGE)c('ShareNowCounter').logEvent(c('ShareNowCounterEvent').SHARE_POST_MESSAGE);u&&u();var x=c('XShareDialogSubmitController').getURIBuilder().setInt('app_id',t.appId).setInt('owner_id',t.ownerId).setInt('post_id',t.postId).setInt('share_type',t.shareType).setInt('shared_ad_id',t.sharedAdId).setString('privacy',t.privacy).setString('message',t.message).setString('audience_type',t.audienceType).setIntVector('audience_targets',t.audienceTargets).setInt('ephemeral_ttl_mode',t.ephemeralTTLMode).setString('source',t.source).setIntVector('tagged_people',t.taggedPeople).setInt('tagged_place',t.taggedPlace).setInt('tagged_action',t.taggedActionId).setInt('tagged_object',t.taggedObjectId).setString('tagged_object_str',t.taggedObjectStr).setInt('tagged_action_icon',t.taggedActionIconId).setInt('attribution',t.attributionId).setStringVector('messaging_tags',t.messageTags).setStringToStringMap('internalextra',t.internalExtra||h&&h.internalExtra).setInt('internal_preview_image_id',t.internalPreviewImageID).getURI();x=c('ActorURI').create(x,t.actorId);new (c('AsyncRequest'))().setURI(x).setMethod('POST').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(){for(var y=arguments.length,z=Array(y),aa=0;aa<y;aa++)z[aa]=arguments[aa];v.apply(null,z);}).setErrorHandler(w).send();},setup:function(t,u,v,w,x,y){h=s.getPropsFromAsyncResponse(t);i=u;j=c('uniqueID')();k=v;l=w;m=x;n=y;r({type:c('ShareDialogStatusTypes').COMPOSING});},setupInline:function(t,u,v){var w=c('Parent').byClass(u,'share_root'),x=this.getPropsFromAsyncResponse(t),y=t.sharerType===c('SharerType').MESSAGE_ONLY;c('UFIInstanceState').updateState(v,'inlineShare',{loaded:true,active:true,props:babelHelpers['extends']({},x,{shareLinkNode:w}),toggling:true,messageOnly:y});}};f.exports=s;},null);