/*!CK:2458604407!*//*1457382676,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["nHbqi"]); }

__d('ShareDialogAudienceTypeahead.react',['cx','Grid.react','React','XUITypeahead.react','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('Grid.react').GridItem,j=c('React').PropTypes,k=c('React').createClass({displayName:'ShareDialogAudienceTypeahead',propTypes:{searchSource:j.object.isRequired,userId:j.string,prefix:j.string,onClear:j.func,onChange:j.func},getDefaultProps:function(){return {onClear:c('emptyFunction'),onChange:c('emptyFunction')};},getInitialState:function(){return {query:'',selectedEntry:null};},_onBlur:function(){if(!this.state.selectedEntry||this.state.selectedEntry.getTitle()!==this.state.query)this._clearSelection();},_clearSelection:function(){this.setState({query:'',selectedEntry:null});this.props.onClear();},render:function(){var l=this.props,m=l.className,n=babelHelpers.objectWithoutProperties(l,['className']),o=!!this.state.selectedEntry,p={};if(this.props.userId)p[this.props.userId]=true;var q=this.props.prefix?c('React').createElement('span',{className:"_2qx7"},this.props.prefix):c('React').createElement('noscript',null),r=this.props.prefix?"_2qx6":null;return (c('React').createElement(c('Grid.react'),{className:r,cols:2},c('React').createElement(i,{key:'prefix',className:"_1ho1"},q),c('React').createElement(i,{key:'suffix',className:"_1xk6"},c('React').createElement(c('XUITypeahead.react'),babelHelpers['extends']({},n,{className:c('joinClasses')(m,"_39y9"+(o?' '+"_39ya":'')),excludedEntries:p,onChange:this._onChange,onClear:this._onClear,onBlur:this._onBlur,onSelectAttempt:this._onSelect,queryString:this.state.query,searchSource:this.props.searchSource,focusedOnInit:true,showEntriesOnFocus:false,clearable:true,selectedEntry:this.state.selectedEntry,tallInput:true})))));},_onSelect:function(l){this.setState({query:l.getTitle(),selectedEntry:l});this.props.onChange(l);},_onChange:function(event){var l=event.target.value;if(this.state.selectedEntry&&this.state.selectedEntry.getTitle()!==l){this.setState({query:l,selectedEntry:null});}else this.setState({query:l});},_onClear:function(){this.setState({query:'',selectedEntry:null});this.props.onClear();}});f.exports=k;},null);
__d('ShareDialogGroupAudience.react',['cx','fbt','ReactComposerContextMixin','React','ShareDialogAudienceTypeahead.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ShareDialogGroupAudience',mixins:[c('ReactComposerContextMixin')],propTypes:{customModules:j.arrayOf(j.func),searchSource:j.object.isRequired,onClear:j.func,onChange:j.func.isRequired,onSelect:j.func},getInitialState:function(){return {query:'',selectedEntry:null};},_onGroupChange:function(l){var m=l.getAuxiliaryData(),n=m.isForSaleGroup;this.setState({isForSaleGroupSelected:n});this.props.onChange([l.getUniqueID()]);},render:function(){var l=this.props.customModules?this.props.customModules:[],m=i._("Grupo:");return (c('React').createElement('div',null,c('React').createElement(c('ShareDialogAudienceTypeahead.react'),babelHelpers['extends']({},this.props,{onChange:this._onGroupChange,prefix:m,showPhoto:true,name:'audience_group',inputID:'audience_group',className:"_2n3i",placeholder:i._("Nombre del grupo")})),l.map(function(n,o){return (c('React').createElement(n,babelHelpers['extends']({key:o},this.props,this.state)));}.bind(this))));}});f.exports=k;},null);
__d('ShareDialogMessageAudience.react',['cx','fbt','ChatSearchSource','Grid.react','MercuryTypeaheadConstants','MessengerTypeaheadUtils','React','ShareDialogTypeaheadView.react','XUITokenizer.react','XUITokenizerToken.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('Grid.react').GridItem,k=c('React').PropTypes,l=c('React').createClass({displayName:'ShareDialogMessageAudience',propTypes:{userId:k.string,onClear:k.func,onChange:k.func,messageTargets:k.array},componentWillMount:function(){this._searchSource=new (c('ChatSearchSource'))({queryRequests:[{uri:'/ajax/mercury/composer_query.php'}]});},getInitialState:function(){return {entries:[]};},render:function(){var m=this._shouldBeDisabled();return (c('React').createElement(c('Grid.react'),{className:"_2qx6",cols:2},c('React').createElement(j,{className:"_1ho1",key:'prefix'},c('React').createElement('span',{className:"_2qx7"},i._("Para:"))),c('React').createElement(j,{className:"_1xk6",key:'suffix'},c('React').createElement(c('XUITokenizer.react'),babelHelpers['extends']({},this.props,{className:"_39y9"+(' '+"_42z0")+(m?' '+"_39ya":''),placeholder:i._("Nombres"),name:'audience_message',inputID:'audience_message',value:this.state.entries,focusedOnInit:true,selectOnTab:true,showEntriesOnFocus:false,entries:this.state.entries,searchSource:this._searchSource,onRemoveEntryAttempt:this._onRemoveEntryAttempt,onAddEntryAttempt:this._onAddEntryAttempt,disabled:m,presenter:{ViewRenderer:c('ShareDialogTypeaheadView.react'),TokenRenderer:c('XUITokenizerToken.react'),useLayer:true,sortEntries:this._sortEntries}})))));},componentDidMount:function(){var m=this.props.messageTargets;if(m)for(var n=0;n<m.length;++n)if(m[n])this._onAddEntryAttempt(m[n]);},_sortEntries:function(m){if(this.state.entries.length)return c('MessengerTypeaheadUtils').sortEntriesWithoutGroupsOrViewer(m,this.props.userId);return c('MessengerTypeaheadUtils').sortEntriesWithoutPages(m);},_shouldBeDisabled:function(){var m=this.state.entries;return m.length===1&&m[0].getType()===c('MercuryTypeaheadConstants').THREAD_TYPE;},_onAddEntryAttempt:function(m){var n=m.getUniqueID(),o=this.state.entries,p=o.some(function(q){if(q.getUniqueID()===n)return true;});if(p)return;o.push(m);this.props.onChange(o.map(function(q){return q.getUniqueID();}));this.setState({entries:o});},_onRemoveEntryAttempt:function(m){var n=m.getUniqueID(),o=this.state.entries,p=o.some(function(q){if(q.getUniqueID()===n)return true;});if(p)o.splice(o.indexOf(m),1);this.props.onChange(o.map(function(q){return q.getUniqueID();}));if(o.length===0)this.props.onClear();this.setState({entries:o});}});f.exports=l;},null);
__d('ShareDialogPageAudience.react',['cx','fbt','React','Image.react','LeftRight.react','ShareActorSelector.react','XUISelector.react','emptyFunction','getObjectValues'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('XUISelector.react').Option,l=c('React').createClass({displayName:'ShareDialogPageAudience',propTypes:{pagesSource:j.object.isRequired,onClear:j.func,onSelect:j.func,defaultPageID:j.string},getInitialState:function(){var m=this.props.defaultPageID?this.props.defaultPageID:c('getObjectValues')(this.props.pagesSource)[0].id;return {selectedPageID:m,selectedActorID:m,onClear:c('emptyFunction'),onChange:c('emptyFunction')};},render:function(){if(!this.props.pagesSource)return c('React').createElement('span',null);var m=c('getObjectValues')(this.props.pagesSource).map(function(n){return (c('React').createElement(k,{key:n.id,value:n.id,icon:c('React').createElement(c('Image.react'),{src:n.pic,height:15,width:15})},n.name));});return (c('React').createElement('div',{className:"_15u8"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('XUISelector.react'),{className:"_15u9",name:'audience_page',inputID:'audience_page',maxheight:150,value:this.state.selectedPageID,defaultValue:this.state.selectedPageID,onChange:function(n){this.setState({selectedPageID:n.value});this.props.onChange([{pageId:n.value,actorId:this.state.selectedActorID}]);}.bind(this)},m),c('React').createElement('span',null,c('React').createElement('strong',{className:"_15ua"},i._("Publicar como"),' '),c('React').createElement(c('ShareActorSelector.react'),{name:'audience_page_identity',onChange:function(n){this.setState({selectedActorID:n.value});this.props.onChange([{pageId:this.state.selectedPageID,actorId:n.value}]);}.bind(this),targetID:this.state.selectedPageID})))));}});f.exports=l;},null);
__d('ShareDialogPersonAudience.react',['cx','fbt','React','SearchableEntry','ShareDialogAudienceTypeahead.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ShareDialogPersonAudience',propTypes:{searchSource:j.object.isRequired,userId:j.string,onClear:j.func,onChange:j.func.isRequired,onSelect:j.func},_onPersonChange:function(l){this.props.onChange([l.getUniqueID()]);},render:function(){var l=i._("Amigo:");return (c('React').createElement(c('ShareDialogAudienceTypeahead.react'),babelHelpers['extends']({},this.props,{prefix:l,searchSource:this.props.searchSource,className:"_4heg",name:'friendTarget',inputID:'friendTarget',clearable:true,placeholder:i._("Nombre de tu amigo"),onChange:this._onPersonChange})));}});f.exports=k;},null);